<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OneMoreRev API í…ŒìŠ¤íŠ¸</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f5f5f5;
        }
        .container {
            background: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        h1 {
            color: #333;
            text-align: center;
            margin-bottom: 30px;
        }
        .api-section {
            margin-bottom: 30px;
            padding: 20px;
            border: 1px solid #ddd;
            border-radius: 8px;
            background-color: #fafafa;
        }
        .api-title {
            font-size: 18px;
            font-weight: bold;
            color: #2c3e50;
            margin-bottom: 10px;
        }
        .api-url {
            font-family: 'Courier New', monospace;
            font-size: 12px;
            color: #666;
            background-color: #f8f9fa;
            padding: 5px 10px;
            border-radius: 3px;
            margin-bottom: 15px;
            border-left: 3px solid #3498db;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        .http-method {
            font-size: 10px;
            font-weight: bold;
            padding: 2px 6px;
            border-radius: 2px;
            color: white;
        }
        .http-method.get {
            background-color: #61affe;
        }
        .http-method.post {
            background-color: #49cc90;
        }
        .form-group {
            margin-bottom: 15px;
        }
        label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
            color: #555;
        }
         input, textarea {
             width: 100%;
             padding: 10px;
             border: 1px solid #ddd;
             border-radius: 4px;
             font-size: 14px;
             box-sizing: border-box;
         }
         input::placeholder, textarea::placeholder {
             color: #999;
             opacity: 0.7;
         }
        button {
            background-color: #3498db;
            color: white;
            padding: 12px 24px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 14px;
            margin-right: 10px;
        }
        button:hover {
            background-color: #2980b9;
        }
        .response {
            margin-top: 15px;
            padding: 15px;
            background-color: #f8f9fa;
            border-radius: 4px;
            border-left: 4px solid #3498db;
            white-space: pre-wrap;
            font-family: monospace;
            font-size: 12px;
        }
        .error {
            border-left-color: #e74c3c;
            background-color: #fdf2f2;
        }
        .success {
            border-left-color: #27ae60;
            background-color: #f2fdf5;
        }
        
        /* íƒ­ ìŠ¤íƒ€ì¼ */
        .tab-container {
            margin-bottom: 20px;
        }
        .tab-buttons {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }
        .tab-button {
            background-color: #f8f9fa;
            border: 1px solid #ddd;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 14px;
            color: #333;
            transition: all 0.3s ease;
        }
        .tab-button:hover {
            background-color: #e9ecef;
        }
        .tab-button.active {
            background-color: #3498db;
            color: white;
            border-color: #3498db;
        }
        .tab-content {
            display: none;
        }
        .tab-content.active {
            display: block;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸš€ OneMoreRev API í…ŒìŠ¤íŠ¸</h1>
        
        <!-- íƒ­ ë²„íŠ¼ë“¤ -->
        <div class="tab-container">
            <div class="tab-buttons">
                <button class="tab-button active" onclick="showTab('signup')">ğŸ“ íšŒì›ê°€ì…</button>
                <button class="tab-button" onclick="showTab('login')">ğŸ” ë¡œê·¸ì¸</button>
                <button class="tab-button" onclick="showTab('logout')">ğŸšª ë¡œê·¸ì•„ì›ƒ</button>
                <button class="tab-button" onclick="showTab('profile')">ğŸ‘¤ í”„ë¡œí•„ ì¡°íšŒ</button>
                <button class="tab-button" onclick="showTab('project-create')">ğŸ“ í”„ë¡œì íŠ¸ìƒì„±</button>
                <button class="tab-button" onclick="showTab('project-list')">ğŸ“‹ í”„ë¡œì íŠ¸ëª©ë¡</button>
            </div>
        </div>

        <!-- íšŒì›ê°€ì… íƒ­ -->
        <div id="signup-tab" class="tab-content active">
            <div class="api-section">
                <div class="api-title">ğŸ“ íšŒì›ê°€ì…</div>
                <div class="api-url">
                    <span class="http-method post">POST</span>
                    <span>/api/v1/signup</span>
                </div>
                <div class="form-group">
                    <label for="signup-name">ì´ë¦„:</label>
                    <input type="text" id="signup-name" value="í™ê¸¸ë™" placeholder="ì‹¤ëª…ì„ ì…ë ¥í•´ì£¼ì„¸ìš”">
                </div>
                <div class="form-group">
                    <label for="signup-email">ì´ë©”ì¼:</label>
                    <input type="email" id="signup-email" value="hong@example.com" placeholder="ì´ë©”ì¼ ì£¼ì†Œë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”">
                </div>
                <div class="form-group">
                    <label for="signup-phone">íœ´ëŒ€í°:</label>
                    <input type="text" id="signup-phone" value="010-1234-5678" placeholder="íœ´ëŒ€í° ë²ˆí˜¸ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”">
                </div>
                <div class="form-group">
                    <label for="signup-password">ë¹„ë°€ë²ˆí˜¸:</label>
                    <input type="password" id="signup-password" value="password123" placeholder="6ì ì´ìƒì˜ ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”">
                </div>
                <div class="form-group">
                    <label for="signup-password-confirm">ë¹„ë°€ë²ˆí˜¸ í™•ì¸:</label>
                    <input type="password" id="signup-password-confirm" value="password123" placeholder="ìœ„ì™€ ë™ì¼í•œ ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”">
                </div>
                <button onclick="signup()">íšŒì›ê°€ì…</button>
                <div id="signup-response" class="response" style="display: none;"></div>
            </div>
        </div>

        <!-- ë¡œê·¸ì¸ íƒ­ -->
        <div id="login-tab" class="tab-content">
            <div class="api-section">
                <div class="api-title">ğŸ” ë¡œê·¸ì¸</div>
                <div class="api-url">
                    <span class="http-method post">POST</span>
                    <span>/api/v1/login</span>
                </div>
                <div class="form-group">
                    <label for="login-email">ì´ë©”ì¼:</label>
                    <input type="email" id="login-email" value="hong@example.com" placeholder="ê°€ì…í•œ ì´ë©”ì¼ ì£¼ì†Œë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”">
                </div>
                <div class="form-group">
                    <label for="login-password">ë¹„ë°€ë²ˆí˜¸:</label>
                    <input type="password" id="login-password" value="password123" placeholder="ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”">
                </div>
                <button onclick="login()">ë¡œê·¸ì¸</button>
                <div id="login-response" class="response" style="display: none;"></div>
            </div>
        </div>

        <!-- í”„ë¡œí•„ íƒ­ -->
        <div id="profile-tab" class="tab-content">
            <div class="api-section">
                <div class="api-title">ğŸ‘¤ í”„ë¡œí•„ ì¡°íšŒ</div>
                <div class="api-url">
                    <span class="http-method get">GET</span>
                    <span>/api/v1/user/profile</span>
                </div>
                <button onclick="getProfile()">í”„ë¡œí•„ ì¡°íšŒ</button>
                <div id="profile-response" class="response" style="display: none;"></div>
            </div>
        </div>

        <!-- í”„ë¡œì íŠ¸ ìƒì„± íƒ­ -->
        <div id="project-create-tab" class="tab-content">
            <div class="api-section">
                <div class="api-title">ğŸ“ í”„ë¡œì íŠ¸ ìƒì„±</div>
                <div class="api-url">
                    <span class="http-method post">POST</span>
                    <span>/api/v1/project/new</span>
                </div>
                <div class="form-group">
                    <label for="project-name">í”„ë¡œì íŠ¸ ì´ë¦„:</label>
                    <input type="text" id="project-name" value="ìƒˆ í”„ë¡œì íŠ¸" placeholder="í”„ë¡œì íŠ¸ ì´ë¦„ì„ ì…ë ¥í•´ì£¼ì„¸ìš”">
                </div>
                <div class="form-group">
                    <label for="project-description">í”„ë¡œì íŠ¸ ì„¤ëª…:</label>
                    <textarea id="project-description" rows="3" placeholder="í”„ë¡œì íŠ¸ì— ëŒ€í•œ ì„¤ëª…ì„ ì…ë ¥í•´ì£¼ì„¸ìš” (ì„ íƒì‚¬í•­)">ìƒˆë¡œìš´ í”„ë¡œì íŠ¸ë¥¼ ì‹œì‘í•©ë‹ˆë‹¤.
ì£¼ìš” ê¸°ëŠ¥:
- ë¦¬ë¹„ì „ ê´€ë¦¬
- í˜‘ì—… ê¸°ëŠ¥
- ë²„ì „ ì œì–´</textarea>
                </div>
                <button onclick="createProject()">í”„ë¡œì íŠ¸ ìƒì„±</button>
                <div id="project-response" class="response" style="display: none;"></div>
            </div>
        </div>

        <!-- í”„ë¡œì íŠ¸ ëª©ë¡ íƒ­ -->
        <div id="project-list-tab" class="tab-content">
            <div class="api-section">
                <div class="api-title">ğŸ“‹ í”„ë¡œì íŠ¸ ëª©ë¡</div>
                <div class="api-url">
                    <span class="http-method get">GET</span>
                    <span>/api/v1/project/list</span>
                </div>
                <button onclick="getProjectList()">í”„ë¡œì íŠ¸ ëª©ë¡ ì¡°íšŒ</button>
                <div id="project-list-response" class="response" style="display: none;"></div>
            </div>
        </div>

        <!-- ë¡œê·¸ì•„ì›ƒ íƒ­ -->
        <div id="logout-tab" class="tab-content">
            <div class="api-section">
                <div class="api-title">ğŸšª ë¡œê·¸ì•„ì›ƒ</div>
                <div class="api-url">
                    <span class="http-method get">GET</span>
                    <span>/api/v1/logout</span>
                </div>
                <button onclick="logout()">ë¡œê·¸ì•„ì›ƒ</button>
                <div id="logout-response" class="response" style="display: none;"></div>
            </div>
        </div>
    </div>

    <script>
        const API_BASE = 'http://localhost:4000/api/v1';

        // íƒ­ ì „í™˜ í•¨ìˆ˜
        function showTab(tabName) {
            // ëª¨ë“  íƒ­ ë²„íŠ¼ì—ì„œ active í´ë˜ìŠ¤ ì œê±°
            document.querySelectorAll('.tab-button').forEach(btn => {
                btn.classList.remove('active');
            });
            
            // ëª¨ë“  íƒ­ ì½˜í…ì¸ ì—ì„œ active í´ë˜ìŠ¤ ì œê±°
            document.querySelectorAll('.tab-content').forEach(content => {
                content.classList.remove('active');
            });
            
            // í´ë¦­ëœ íƒ­ ë²„íŠ¼ì— active í´ë˜ìŠ¤ ì¶”ê°€
            event.target.classList.add('active');
            
            // í•´ë‹¹ íƒ­ ì½˜í…ì¸ ì— active í´ë˜ìŠ¤ ì¶”ê°€
            document.getElementById(tabName + '-tab').classList.add('active');
        }

        function showResponse(elementId, data, isError = false) {
            const element = document.getElementById(elementId);
            element.style.display = 'block';
            element.className = `response ${isError ? 'error' : 'success'}`;
            element.textContent = JSON.stringify(data, null, 2);
        }

         async function signup() {
             const password = document.getElementById('signup-password').value;
             const passwordConfirm = document.getElementById('signup-password-confirm').value;
             
             // ë¹„ë°€ë²ˆí˜¸ í™•ì¸ ê²€ì¦
             if (password !== passwordConfirm) {
                 showResponse('signup-response', { error: 'ë¹„ë°€ë²ˆí˜¸ê°€ ì¼ì¹˜í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.' }, true);
                 return;
             }
             
             // ë¹ˆ í•„ë“œ ê²€ì¦
             const name = document.getElementById('signup-name').value.trim();
             const email = document.getElementById('signup-email').value.trim();
             const phone = document.getElementById('signup-phone').value.trim();
             
             if (!name || !email || !phone || !password) {
                 showResponse('signup-response', { error: 'ëª¨ë“  í•„ë“œë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.' }, true);
                 return;
             }

             const data = {
                 name: name,
                 email: email,
                 phone: phone,
                 password: password,
                 confirmPassword: passwordConfirm
             };

             try {
                 const response = await fetch(`${API_BASE}/signup`, {
                     method: 'POST',
                     headers: {
                         'Content-Type': 'application/json',
                     },
                     body: JSON.stringify(data),
                     credentials: 'include'
                 });
                 const result = await response.json();
                 showResponse('signup-response', result, !response.ok);
             } catch (error) {
                 showResponse('signup-response', { error: error.message }, true);
             }
         }

        async function login() {
            const data = {
                email: document.getElementById('login-email').value,
                password: document.getElementById('login-password').value
            };

            try {
                const response = await fetch(`${API_BASE}/login`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify(data),
                    credentials: 'include'
                });
                const result = await response.json();
                showResponse('login-response', result, !response.ok);
            } catch (error) {
                showResponse('login-response', { error: error.message }, true);
            }
        }

        async function getProfile() {
            try {
                const response = await fetch(`${API_BASE}/user/profile`, {
                    method: 'GET',
                    credentials: 'include'
                });
                const result = await response.json();
                showResponse('profile-response', result, !response.ok);
            } catch (error) {
                showResponse('profile-response', { error: error.message }, true);
            }
        }

        async function createProject() {
            const data = {
                name: document.getElementById('project-name').value,
                description: document.getElementById('project-description').value
            };

            try {
                const response = await fetch(`${API_BASE}/project/new`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify(data),
                    credentials: 'include'
                });
                const result = await response.json();
                showResponse('project-response', result, !response.ok);
            } catch (error) {
                showResponse('project-response', { error: error.message }, true);
            }
        }

        async function getProjectList() {
            try {
                const response = await fetch(`${API_BASE}/project/list`, {
                    method: 'GET',
                    credentials: 'include'
                });
                const result = await response.json();
                showResponse('project-list-response', result, !response.ok);
            } catch (error) {
                showResponse('project-list-response', { error: error.message }, true);
            }
        }

        async function logout() {
            try {
                const response = await fetch(`${API_BASE}/logout`, {
                    method: 'GET',
                    credentials: 'include'
                });
                const result = await response.json();
                showResponse('logout-response', result, !response.ok);
            } catch (error) {
                showResponse('logout-response', { error: error.message }, true);
            }
        }
    </script>
</body>
</html>
